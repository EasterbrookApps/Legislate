# procedure-steps-all.sparql â€” timeline for all work packages since ?since
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX :    <https://id.parliament.uk/schema/>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT DISTINCT ?workPackage ?bi ?biDate ?step ?stepLabel ?houseLabel WHERE {
  ?workPackage :workPackageHasBusinessItem ?bi .
  ?bi :businessItemDate ?biDate ;
      :businessItemHasProcedureStep ?step .
  OPTIONAL { ?step rdfs:label ?stepLabel . }
  OPTIONAL { ?bi :businessItemHasHouse ?house . ?house :preferredLabel ?houseLabel . }
  FILTER ( ?biDate >= ?since )
}
ORDER BY ?workPackage ?biDate
