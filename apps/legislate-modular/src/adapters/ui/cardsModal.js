function $el(id){return document.getElementById(id)} export function createModal(){const root=$el('modal-root'),title=$el('modal-title'),body=$el('modal-body'),ok=$el('modal-ok'); let resolver=null; ok.addEventListener('click',()=>{close(); if(resolver) resolver()}); function open(opts){title.textContent=opts.title||'Notice'; body.textContent=opts.body||''; root.style.display='block'; root.setAttribute('aria-hidden','false'); ok.focus(); return new Promise(res=>{resolver=res})} function close(){root.style.display='none'; root.setAttribute('aria-hidden','true'); resolver=null} return { open, close } }