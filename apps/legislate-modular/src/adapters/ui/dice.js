export function wireRoll(button,onRoll){function handler(e){const ae=document.activeElement; if(ae && ae.tagName==='INPUT' && ae.dataset.role==='player-name'){return} button.disabled=true; onRoll().finally(()=>{button.disabled=false; button.focus()})} button.addEventListener('click',handler); button.addEventListener('keydown',(e)=>{ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); handler(e) }})}