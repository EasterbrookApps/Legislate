<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Legislate?! — Learn the UK legislative process</title>
    <meta name="description" content="A board game that teaches the UK legislative process." />
    <link rel="icon" href="./favicon.ico" />
    <style>
      :root {
        --bg: #ffffff;
        --text: #0b0c0c; /* GOV.UK black */
        --muted: #505a5f;
        --accent: #1d70b8; /* GOV.UK blue */
        --token-ring: #0b0c0c;
      }
      html, body { height: 100%; }
      body {
        margin: 0; background: var(--bg); color: var(--text);
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
        -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
      }
      header, main, footer { max-width: 1100px; margin: 0 auto; padding: 1rem; }
      header { display: flex; align-items: center; justify-content: space-between; gap: 1rem; }
      #brand { font-size: 1.4rem; font-weight: 700; }
      #controls { display: flex; gap: .5rem; align-items: center; }
      .btn {
        appearance: none; border: 1px solid var(--text); background: transparent; color: var(--text);
        padding: .6rem 1rem; border-radius: .25rem; cursor: pointer; font-weight: 600;
      }
      .btn:focus { outline: 3px solid #fd0; outline-offset: 2px; }
      .btn.primary { background: var(--accent); color: white; border-color: var(--accent); }
      #board-wrap { position: relative; }
      #board-img { width: 100%; height: auto; display: block; }
      #tokens-layer {
        position: absolute; inset: 0; pointer-events: none;
      }
      .token {
        position: absolute; transform: translate(-50%, -50%);
        border-radius: 50%;
        border: 2px solid var(--token-ring);
        pointer-events: auto; /* to allow hover/focus, we set on children */
      }
      .sr-only {
        position: absolute !important;
        height: 1px; width: 1px;
        overflow: hidden; clip: rect(1px, 1px, 1px, 1px);
        white-space: nowrap; border: 0; padding: 0; margin: -1px;
      }
      .modal-backdrop {
        position: fixed; inset: 0; background: rgba(0,0,0,.55);
        display: none; align-items: center; justify-content: center; z-index: 1000;
      }
      .modal {
        background: #fff; color: var(--text);
        max-width: 640px; width: calc(100% - 2rem);
        border-radius: .5rem; padding: 1.25rem; box-shadow: 0 10px 30px rgba(0,0,0,.3);
      }
      .modal h2 { margin-top: 0; }
      .footer-note { color: var(--muted); font-size: .9rem; margin-top: 1rem; }
      #turn-indicator { font-weight: 600; }
      .players { display: flex; gap: .5rem; flex-wrap: wrap; align-items: center; }
      .player-pill { display: inline-flex; align-items: center; gap: .4rem; padding: .25rem .5rem; border-radius: 999px; border: 1px solid #b1b4b6; }
      .player-dot { width: .8rem; height: .8rem; border-radius: 50%; display: inline-block; }
    </style>
  </head>
  <body>
    <a class="sr-only" href="#main">Skip to main content</a>
    <header role="banner">
      <div id="brand">Legislate?!</div>
      <div id="turn-indicator" aria-live="polite">Loading…</div>
      <div id="controls">
        <button id="roll-btn" class="btn primary">Roll</button>
        <button id="restart-btn" class="btn">Restart</button>
      </div>
    </header>
    <main id="main" role="main">
      <section id="board-section" aria-label="Game board">
        <div id="board-wrap">
          <img id="board-img" alt="">
          <div id="tokens-layer" aria-hidden="true"></div>
        </div>
      </section>
      <section aria-label="Players">
        <div class="players" id="players"></div>
      </section>
      <p class="footer-note" id="footer-attrib"></p>
    </main>

    <div id="modal-root" class="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
      <div class="modal" role="document">
        <h2 id="modal-title"></h2>
        <div id="modal-body"></div>
        <div style="margin-top:1rem; display:flex; justify-content:flex-end; gap:.5rem;">
          <button id="modal-ok" class="btn primary">OK</button>
        </div>
      </div>
    </div>

    <script type="module" src="./src/main.js"></script>
  </body>
</html>
