/* ===============================
   Legislate?! â€” UI styles
   Safe, drop-in replacement
   =============================== */

/* Theme */
:root{
  --bg: #ffffff;
  --text: #0b0c0c;
  --muted: #505a5f;
  --link: #1d70b8;
  --border: #d8dadd;
  --panel: #f7f8f9;
  --accent: #3b82f6;
  --accent-2: #10b981;
  --danger: #d4351c;
  --shadow: 0 1px 1px rgba(0,0,0,.05), 0 6px 16px rgba(0,0,0,.08);
}

/* Base */
*{ box-sizing: border-box; }
html,body{ height:100%; }
body{
  margin:0;
  color:var(--text);
  background:var(--bg);
  font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  line-height:1.45;
}

/* Layout */
.page-header, .page-main{
  max-width: 1100px;
  margin: 0 auto;
  padding: 1rem 1.25rem;
}
.page-header{
  display:flex;
  align-items:flex-end;
  gap: 1rem;
  flex-wrap: wrap;
  border-bottom: 1px solid var(--border);
  background: #fff;
  position: sticky;
  top: 0;
  z-index: 20;
}

/* Brand + controls */
.brand{
  font-weight: 800;
  font-size: clamp(1.15rem, 1.5vw + .8rem, 1.6rem);
  letter-spacing: .2px;
}
.controls{
  display:flex;
  align-items:center;
  gap:.5rem;
  flex-wrap:wrap;
}

/* Buttons */
.button{
  appearance:none;
  border:1px solid var(--border);
  background:#fff;
  padding:.45rem .8rem;
  border-radius:.45rem;
  cursor:pointer;
  font-weight:600;
  transition: transform .06s ease, box-shadow .2s ease, background .2s ease, border-color .2s ease;
  box-shadow: 0 0 0 0 transparent;
}
.button:hover{ background:var(--panel); }
.button:active{ transform: translateY(1px); }
.button--primary{
  background:var(--accent);
  color:#fff;
  border-color:transparent;
}
.button--primary:hover{ filter: brightness(0.96); }
.button--secondary{ background:#fff; }

/* Turn indicator */
.turn{
  margin:.25rem 0 0;
  font-weight:700;
}

/* Board */
.board-wrap{ position:relative; user-select:none; }
#boardImg{ display:block; width:100%; height:auto; border-radius: .25rem; }
.tokens-layer{ position:absolute; inset:0; pointer-events:none; }
.token{
  position:absolute; width:20px; height:20px; border-radius:50%;
  box-shadow: 0 1px 2px rgba(0,0,0,.2);
  transform: translate(-50%, -50%); /* center on coordinate */
}

/* Players list */
.players-section{ margin-top: .5rem; }
.player-pill{
  display:inline-flex; align-items:center; gap:.45rem;
  padding:.3rem .6rem; margin:.25rem .3rem 0 0;
  border:1px solid var(--border); border-radius:999px;
  background:#fff; box-shadow: var(--shadow);
}
.player-dot{ width:.85rem; height:.85rem; border-radius:50%; flex:0 0 auto; }
.player-name{
  min-width:6ch;
  border:1px solid transparent;
  padding:.1rem .25rem;
  border-radius:.35rem;
}
.player-name:focus{
  outline: none;
  border-color: var(--link);
  box-shadow: 0 0 0 3px rgba(29,112,184,.15);
  background:#fff;
}

/* Attribution */
.attrib{
  color:var(--muted);
  margin: 1rem 0 0;
  font-size:.9rem;
}

/* Modal (cards & end-game) */
.modal-backdrop{
  position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
  background: rgba(0,0,0,.55);
  padding: clamp(1rem, 4vh, 2rem);
  z-index: 1500;
}
.modal{
  width:min(680px, 92vw);
  background:#fff;
  border-radius:.65rem;
  border:1px solid var(--border);
  box-shadow: var(--shadow);
  padding: 1rem 1.25rem;
}
.modal h2{ margin:.2rem 0 .5rem; font-size:1.25rem; }
.modal-actions{ display:flex; justify-content:flex-end; gap:.5rem; margin-top:1rem; }
[hidden]{ display:none !important; }

/* Dice overlay */
.dice-overlay{
  position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
  background: radial-gradient(ellipse at center, rgba(0,0,0,.6) 0%, rgba(0,0,0,.85) 100%);
  z-index: 1400;
}
.dice-wrapper{ width:min(70vmin, 640px); height:min(70vmin, 640px); display:flex; align-items:center; justify-content:center; }
.dice{ position:relative; width:100%; height:100%; display:grid; place-items:center; }
.dice .face{
  display:none; position:absolute; inset:0; margin:auto;
  width:100%; height:100%; border-radius:3%;
  background:#fff; box-shadow: 0 10px 30px rgba(0,0,0,.35);
}
.dice.show-1 .one, .dice.show-2 .two, .dice.show-3 .three,
.dice.show-4 .four, .dice.show-5 .five, .dice.show-6 .six{ display:block; }
.dice .face:before{
  content:""; position:absolute; inset:0;
  background:
    radial-gradient(circle at 25% 25%, #000 0 4%, transparent 5%),
    radial-gradient(circle at 50% 50%, #000 0 4%, transparent 5%),
    radial-gradient(circle at 75% 75%, #000 0 4%, transparent 5%),
    radial-gradient(circle at 75% 25%, transparent 0 4%, transparent 5%),
    radial-gradient(circle at 25% 75%, transparent 0 4%, transparent 5%),
    radial-gradient(circle at 25% 50%, transparent 0 4%, transparent 5%),
    radial-gradient(circle at 75% 50%, transparent 0 4%, transparent 5%);
}
/* explicit patterns (incl. one) */
.dice .one:before{
  background:
    radial-gradient(circle at 50% 50%, #000 0 4%, transparent 5%);
}
.dice .two:before{
  background:
    radial-gradient(circle at 25% 25%, #000 0 4%, transparent 5%),
    radial-gradient(circle at 75% 75%, #000 0 4%, transparent 5%);
}
.dice .three:before{
  background:
    radial-gradient(circle at 25% 25%, #000 0 4%, transparent 5%),
    radial-gradient(circle at 50% 50%, #000 0 4%, transparent 5%),
    radial-gradient(circle at 75% 75%, #000 0 4%, transparent 5%);
}
.dice .four:before{
  background:
    radial-gradient(circle at 25% 25%, #000 0 4%, transparent 5%),
    radial-gradient(circle at 75% 25%, #000 0 4%, transparent 5%),
    radial-gradient(circle at 25% 75%, #000 0 4%, transparent 5%),
    radial-gradient(circle at 75% 75%, #000 0 4%, transparent 5%);
}
.dice .five:before{
  background:
    radial-gradient(circle at 25% 25%, #000 0 4%, transparent 5%),
    radial-gradient(circle at 75% 25%, #000 0 4%, transparent 5%),
    radial-gradient(circle at 50% 50%, #000 0 4%, transparent 5%),
    radial-gradient(circle at 25% 75%, #000 0 4%, transparent 5%),
    radial-gradient(circle at 75% 75%, #000 0 4%, transparent 5%);
}
.dice .six:before{
  background:
    radial-gradient(circle at 25% 25%, #000 0 4%, transparent 5%),
    radial-gradient(circle at 75% 25%, #000 0 4%, transparent 5%),
    radial-gradient(circle at 25% 50%, #000 0 4%, transparent 5%),
    radial-gradient(circle at 75% 50%, #000 0 4%, transparent 5%),
    radial-gradient(circle at 25% 75%, #000 0 4%, transparent 5%),
    radial-gradient(circle at 75% 75%, #000 0 4%, transparent 5%);
}

@keyframes dice-wobble{
  0%{ transform: rotate(0) scale(1); }
  25%{ transform: rotate(8deg) scale(1.02); }
  50%{ transform: rotate(-8deg) scale(1.04); }
  75%{ transform: rotate(5deg) scale(1.02); }
  100%{ transform: rotate(0) scale(1); }
}
.dice.rolling .face{ animation: dice-wobble .35s ease-in-out infinite; }
@media (prefers-reduced-motion: reduce){
  .dice.rolling .face{ animation:none; }
}

/* Toast (created by JS, no extra HTML needed) */
#toastRoot{ pointer-events:none; }
#toastRoot > div{
  background: rgba(0,0,0,.85);
  color:#fff;
  border-radius: 999px;
  padding: 8px 12px;
  margin-top: 6px;
  font-size: 14px;
  box-shadow: 0 4px 12px rgba(0,0,0,.35);
  transform: translateY(4px);
  opacity: 0;
}

/* Debug panel */
#dbg-log{
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  font-size: 12px;
  line-height: 1.45;
  background: #111;
  color: #e6ffed;
  border-radius: .4rem;
  padding: .75rem .9rem;
  max-height: 36vh;
  overflow:auto;
  box-shadow: var(--shadow);
}

/* Utility links */
a{ color: var(--link); text-decoration: none; }
a:hover{ text-decoration: underline; }

/* Small screens */
@media (max-width: 640px){
  .page-header{ gap:.6rem; }
  .controls{ gap:.4rem; }
  .players-section{ margin-top:.4rem; }
}