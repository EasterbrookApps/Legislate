:root{
  --border:#b1b4b6;
  --text:#0b0c0c;
  --muted:#505a5f;
  --bg:#fff;
  --brand:#1d70b8;
}

*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}

.page-header,.page-main{max-width:1100px;margin:0 auto;padding:1rem}
.brand{font-weight:700;font-size:1.25rem}
.controls{display:flex;gap:.5rem;align-items:center;flex-wrap:wrap}
.button{border:1px solid var(--border);background:#f3f2f1;padding:.4rem .8rem;border-radius:.35rem;cursor:pointer}
.button--secondary{background:#fff}
.turn{margin:.5rem 0 1rem;font-weight:600}

.attrib{color:var(--muted);margin-top:1rem}

/* --- Board + tokens: exact alignment --- */
.board-wrap{position:relative}
#boardImg{display:block;width:100%;height:auto}

/* Token canvas sits exactly over the rendered image.
   JS sets these to the image’s client box on load/resize,
   but we default to full size for SSR/first paint. */
#tokensLayer{
  position:absolute;left:0;top:0;width:100%;height:100%;
  pointer-events:none; /* tokens are not interactive yet */
}

/* Each token’s CENTRE lands on its coordinate */
.player-dot{
  position:absolute;
  width:.9rem;height:.9rem;border-radius:50%;
  border:2px solid rgba(0,0,0,.15);
  box-shadow:0 1px 2px rgba(0,0,0,.15);
  transform:translate(-50%,-50%);
}

/* Player list chips (if shown) */
.players-section{margin-top:.5rem}
.player-pill{display:inline-flex;align-items:center;gap:.4rem;border:1px solid var(--border);border-radius:999px;padding:.25rem .5rem;margin:.25rem .25rem 0 0}
.player-name-input{display:inline-block;max-width:12rem;font-size:1rem}

/* Modal (cards etc.) */
.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.55);display:flex;align-items:flex-start;justify-content:center;padding:10vh 1rem;z-index:1500}
.modal{background:#fff;max-width:640px;width:100%;border-radius:.5rem;padding:1rem}
.modal-actions{display:flex;justify-content:flex-end;gap:.5rem}
[hidden]{display:none !important}

/* Dice overlay */
.dice-overlay{position:fixed;inset:0;background:radial-gradient(ellipse at center, rgba(0,0,0,.6) 0%, rgba(0,0,0,.85) 100%);display:flex;align-items:center;justify-content:center;z-index:1400}
.dice-wrapper{width:min(70vmin,720px);height:min(70vmin,720px);display:flex;align-items:center;justify-content:center}
.dice{position:relative;width:100%;height:100%;display:grid;place-items:center}
.dice .face{display:none;position:absolute;inset:0;margin:auto;border-radius:3%;background:#fff;box-shadow:0 10px 30px rgba(0,0,0,.35);width:100%;height:100%}
.dice.show-1 .one,.dice.show-2 .two,.dice.show-3 .three,.dice.show-4 .four,.dice.show-5 .five,.dice.show-6 .six{display:block}
.dice .face:before{content:"";position:absolute;inset:0;
  background:
    radial-gradient(circle at 25% 25%, #000 0 4%, transparent 5%),
    radial-gradient(circle at 50% 50%, #000 0 4%, transparent 5%),
    radial-gradient(circle at 75% 75%, #000 0 4%, transparent 5%),
    radial-gradient(circle at 75% 25%, transparent 0 4%, transparent 5%),
    radial-gradient(circle at 25% 75%, transparent 0 4%, transparent 5%),
    radial-gradient(circle at 25% 50%, transparent 0 4%, transparent 5%),
    radial-gradient(circle at 75% 50%, transparent 0 4%, transparent 5%);
  background-size:100% 100%;
}
.dice .two:before{background:
  radial-gradient(circle at 25% 25%, #000 0 4%, transparent 5%),
  radial-gradient(circle at 75% 75%, #000 0 4%, transparent 5%)}
.dice .three:before{background:
  radial-gradient(circle at 25% 25%, #000 0 4%, transparent 5%),
  radial-gradient(circle at 50% 50%, #000 0 4%, transparent 5%),
  radial-gradient(circle at 75% 75%, #000 0 4%, transparent 5%)}
.dice .four:before{background:
  radial-gradient(circle at 25% 25%, #000 0 4%, transparent 5%),
  radial-gradient(circle at 75% 25%, #000 0 4%, transparent 5%),
  radial-gradient(circle at 25% 75%, #000 0 4%, transparent 5%),
  radial-gradient(circle at 75% 75%, #000 0 4%, transparent 5%)}
.dice .five:before{background:
  radial-gradient(circle at 25% 25%, #000 0 4%, transparent 5%),
  radial-gradient(circle at 75% 25%, #000 0 4%, transparent 5%),
  radial-gradient(circle at 50% 50%, #000 0 4%, transparent 5%),
  radial-gradient(circle at 25% 75%, #000 0 4%, transparent 5%),
  radial-gradient(circle at 75% 75%, #000 0 4%, transparent 5%)}
.dice .six:before{background:
  radial-gradient(circle at 25% 25%, #000 0 4%, transparent 5%),
  radial-gradient(circle at 75% 25%, #000 0 4%, transparent 5%),
  radial-gradient(circle at 25% 50%, #000 0 4%, transparent 5%),
  radial-gradient(circle at 75% 50%, #000 0 4%, transparent 5%),
  radial-gradient(circle at 25% 75%, #000 0 4%, transparent 5%),
  radial-gradient(circle at 75% 75%, #000 0 4%, transparent 5%)}
@keyframes dice-wobble{0%{transform:rotate(0) scale(1)}25%{transform:rotate(10deg) scale(1.02)}50%{transform:rotate(-10deg) scale(1.04)}75%{transform:rotate(6deg) scale(1.02)}100%{transform:rotate(0) scale(1)}}
.dice.rolling .face{animation:dice-wobble .35s ease-in-out infinite}
@media (prefers-reduced-motion:reduce){.dice.rolling .face{animation:none}}

/* Debug banner (feature-flagged) */
#dbg-badge{position:fixed;right:.5rem;bottom:.5rem;z-index:1600}
#dbg-panel{position:fixed;right:.5rem;bottom:3.25rem;max-width:min(92vw,640px);max-height:50vh;overflow:auto;background:#fff;border:1px solid var(--border);box-shadow:0 4px 16px rgba(0,0,0,.25);padding:.5rem;border-radius:.5rem;z-index:1600}
#dbg-log{font:12px/1.35 ui-monospace,SFMono-Regular,Consolas,monospace;white-space:pre-wrap}